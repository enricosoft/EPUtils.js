// EPUTILS by Enricosoft v 0.3 (Enrico Piccini - http://www.enricopiccini.com)
//////////////////////////////////////////////////////////////////////////////
typeof jQuery!="undefined"&&(function(n){function o(i,r,f,o){var s={data:o||o===0||o===!1?o:r?r.data:{},_wrap:r?r._wrap:null,tmpl:null,parent:r||null,nodes:[],calls:d,nest:g,wrap:nt,html:tt,update:it};return i&&n.extend(s,i,{nodes:[],parent:r}),f&&(s.tmpl=f,s._ctnt=s._ctnt||s.tmpl(n,s),s.key=++e,(c.length?u:t)[e]=s),s}function s(t,i,u){var f,e=u?n.map(u,function(n){return typeof n=="string"?t.key?n.replace(/(<\w+)(?=[\s>])(?![^>]*_tmplitem)([^>]*)/g,"$1 "+r+'="'+t.key+'" $2'):n:s(n,t,n._ctnt)}):t;return i?e:(e=e.join(""),e.replace(/^\s*([^<\s][^<]*)?(<[\w\W]+>)([^>]*[^>\s])?\s*$/,function(t,i,r,u){f=n(r).get(),b(f),i&&(f=l(i).concat(f)),u&&(f=f.concat(l(u)))}),f?f:l(e))}function l(t){var i=document.createElement("div");return i.innerHTML=t,n.makeArray(i.childNodes)}function p(t){return new Function("jQuery","$item","var $=jQuery,call,__=[],$data=$item.data;with($data){__.push('"+n.trim(t).replace(/([\\'])/g,"\\$1").replace(/[\r\t\n]/g," ").replace(/\$\{([^\}]*)\}/g,"{{= $1}}").replace(/\{\{(\/?)(\w+|.)(?:\(((?:[^\}]|\}(?!\}))*?)?\))?(?:\s+(.*?)?)?(\(((?:[^\}]|\}(?!\}))*?)\))?\s*\}\}/g,function(t,i,r,u,f,e,o){var c=n.tmpl.tag[r],l,s,a;if(!c)throw"Unknown template tag: "+r;return l=c._default||[],e&&!/\w$/.test(f)&&(f+=e,e=""),f?(f=h(f),o=o?","+h(o)+")":e?")":"",s=e?f.indexOf(".")>-1?f+h(e):"("+f+").call($item"+o:f,a=e?s:"(typeof("+f+")==='function'?("+f+").call($item):("+f+"))"):a=s=l.$1||"null",u=h(u),"');"+c[i?"close":"open"].split("$notnull_1").join(f?"typeof("+f+")!=='undefined' && ("+f+")!=null":"true").split("$1a").join(a).split("$1").join(s).split("$2").join(u||l.$2||"")+"__.push('"})+"');}return __;")}function w(t,i){t._wrap=s(t,!0,n.isArray(i)?i:[v.test(i)?i:n(i).html()]).join("")}function h(n){return n?n.replace(/\\'/g,"'").replace(/\\\\/g,"\\"):null}function k(n){var t=document.createElement("div");return t.appendChild(n.cloneNode(!0)),t.innerHTML}function b(f){function p(f){function p(n){n=n+a,s=v[n]=v[n]||o(s,t[s.parent.key+a]||s.parent)}var y,h=f,c,s,l;if(l=f.getAttribute(r)){while(h.parentNode&&(h=h.parentNode).nodeType===1&&!(y=h.getAttribute(r)));y!==l&&(h=h.parentNode?h.nodeType===11?0:h.getAttribute(r)||0:0,(s=t[l])||(s=u[l],s=o(s,t[h]||u[h]),s.key=++e,t[e]=s),i&&p(l)),f.removeAttribute(r)}else i&&(s=n.data(f,"tmplItem"))&&(p(s.key),t[s.key]=s,h=n.data(f.parentNode,"tmplItem"),h=h?h.key:0);if(s){for(c=s;c&&c.key!=h;)c.nodes.push(f),c=c.parent;delete s._ctnt,delete s._wrap,n.data(f,"tmplItem",s)}}for(var a="_"+i,c,l,v={},h,s=0,y=f.length;s<y;s++)if((c=f[s]).nodeType===1){for(l=c.getElementsByTagName("*"),h=l.length-1;h>=0;h--)p(l[h]);p(c)}}function d(n,t,i,r){if(!n)return c.pop();c.push({_:n,tmpl:t,item:this,data:i,options:r})}function g(t,i,r){return n.tmpl(n.template(t),i,r,this)}function nt(t,i){var r=t.options||{};return r.wrapped=i,n.tmpl(n.template(t.tmpl),t.data,r,t.item)}function tt(t,i){var r=this._wrap;return n.map(n(n.isArray(r)?r.join(""):r).filter(t||"*"),function(n){return i?n.innerText||n.textContent:n.outerHTML||k(n)})}function it(){var t=this.nodes;n.tmpl(null,null,null,this).insertBefore(t[0]),n(t).remove()}var a=n.fn.domManip,r="_tmplitem",v=/^[^<]*(<[\w\W]+>)[^>]*$|\{\{\! /,t={},u={},f,y={key:0,data:{}},e=0,i=0,c=[];n.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(r,u){n.fn[r]=function(e){var o=[],h=n(e),c,s,a,v,l=this.length===1&&this[0].parentNode;if(f=t||{},l&&l.nodeType===11&&l.childNodes.length===1&&h.length===1)h[u](this[0]),o=this;else{for(s=0,a=h.length;s<a;s++)i=s,c=(s>0?this.clone(!0):this).get(),n(h[s])[u](c),o=o.concat(c);i=0,o=this.pushStack(o,r,h.selector)}return v=f,f=null,n.tmpl.complete(v),o}}),n.fn.extend({tmpl:function(t,i,r){return n.tmpl(this[0],t,i,r)},tmplItem:function(){return n.tmplItem(this[0])},template:function(t){return n.template(t,this[0])},domManip:function(r,u,e){if(r[0]&&n.isArray(r[0])){for(var o=n.makeArray(arguments),s=r[0],l=s.length,h=0,c;h<l&&!(c=n.data(s[h++],"tmplItem")););c&&i&&(o[2]=function(t){n.tmpl.afterManip(this,t,e)}),a.apply(this,o)}else a.apply(this,arguments);return i=0,f||n.tmpl.complete(t),this}}),n.extend({tmpl:function(i,r,f,e){var h,c=!e;if(c)e=y,i=n.template[i]||n.template(null,i),u={};else if(!i)return i=e.tmpl,t[e.key]=e,e.nodes=[],e.wrapped&&w(e,e.wrapped),n(s(e,null,e.tmpl(n,e)));return i?(typeof r=="function"&&(r=r.call(e||{})),f&&f.wrapped&&w(f,f.wrapped),h=n.isArray(r)?n.map(r,function(n){return n?o(f,e,i,n):null}):[o(f,e,i,r)],c?n(s(e,null,h)):h):[]},tmplItem:function(t){var i;for(t instanceof n&&(t=t[0]);t&&t.nodeType===1&&!(i=n.data(t,"tmplItem"))&&(t=t.parentNode););return i||y},template:function(t,i){return i?(typeof i=="string"?i=p(i):i instanceof n&&(i=i[0]||{}),i.nodeType&&(i=n.data(i,"tmpl")||n.data(i,"tmpl",p(i.innerHTML))),typeof t=="string"?n.template[t]=i:i):t?typeof t!="string"?n.template(null,t):n.template[t]||n.template(null,v.test(t)?t:n(t)):null},encode:function(n){return(""+n).split("<").join("&lt;").split(">").join("&gt;").split('"').join("&#34;").split("'").join("&#39;")}}),n.extend(n.tmpl,{tag:{tmpl:{_default:{$2:"null"},open:"if($notnull_1){__=__.concat($item.nest($1,$2));}"},wrap:{_default:{$2:"null"},open:"$item.calls(__,$1,$2);__=[];",close:"call=$item.calls();__=call._.concat($item.wrap(call,__));"},each:{_default:{$2:"$index, $value"},open:"if($notnull_1){$.each($1a,function($2){with(this){",close:"}});}"},"if":{open:"if(($notnull_1) && $1a){",close:"}"},"else":{_default:{$1:"true"},open:"}else if(($notnull_1) && $1a){"},html:{open:"if($notnull_1){__.push($1a);}"},"=":{_default:{$1:"$data"},open:"if($notnull_1){__.push($.encode($1a));}"},"!":{open:""}},complete:function(){t={}},afterManip:function(t,r,u){var f=r.nodeType===11?n.makeArray(r.childNodes):r.nodeType===1?[r]:[];u.call(t,r),b(f),i++}})}(jQuery),function(n){var i=n.tmpl.complete,t=n.fn.domManip;n.tmpl.complete=function(t){var r;i(t);for(r in t)r=t[r],r.addedTmplItems&&n.inArray(r,r.addedTmplItems)===-1&&r.addedTmplItems.push(r);for(r in t)r=t[r],r.rendered&&r.rendered(r)},n.extend({tmplCmd:function(t,i,r){function e(n,t){for(var u=[],i,r,o=t.length,f,e=0,s=n.length;e<s;)for(f=n[e++],r=0;r<o;)i=t[r++],i.data===f&&u.push(i);return u}var f=[],u;i=n.isArray(i)?i:[i];switch(t){case"find":return e(i,r);case"replace":i.reverse()}return n.each(r?e(i,r):i,function(i,e){coll=e.nodes;switch(t){case"update":e.update();break;case"remove":n(coll).remove(),r&&r.splice(n.inArray(e,r),1);break;case"replace":u=u?n(coll).insertBefore(u)[0]:n(coll).appendTo(coll[0].parentNode)[0],f.unshift(e)}}),f}}),n.fn.extend({domManip:function(i,r,u){var f=i[1],o=i[0],e;return i.length>=2&&typeof f=="object"&&!f.nodeType&&!(f instanceof n)?(e=n.makeArray(arguments),e[0]=[n.tmpl(n.template(o),f,i[2],i[3])],e[2]=function(t){n.tmpl.afterManip(this,t,u)},t.apply(this,e)):t.apply(this,arguments)}})}(jQuery)),function(n,t,r){function f(n,t,i){var r=n.tagName,u=n.type;switch(epu.strToLowercase(r)){case"span":if(t==actionsOnTag.clear&&$(n).html(""),t==actionsOnTag.set&&$(n).html(i),t==actionsOnTag.get)return $(n).html();break;case"div":if(t==actionsOnTag.clear&&$(n).html(""),t==actionsOnTag.set&&$(n).html(i),t==actionsOnTag.get)return $(n).html();break;case"p":if(t==actionsOnTag.clear&&$(n).html(""),t==actionsOnTag.set&&$(n).html(i),t==actionsOnTag.get)return $(n).html();break;case"h1":if(t==actionsOnTag.clear&&$(n).html(""),t==actionsOnTag.set&&$(n).html(i),t==actionsOnTag.get)return $(n).html();break;case"input":switch(u){case"text":if(t==actionsOnTag.clear&&$(n).val(""),t==actionsOnTag.set&&$(n).val(i),t==actionsOnTag.get)return $(n).val();break;case"hidden":if(t==actionsOnTag.clear&&$(n).val(""),t==actionsOnTag.set&&$(n).val(i),t==actionsOnTag.get)return $(n).val();break;case"password":if(t==actionsOnTag.clear&&$(n).val(""),t==actionsOnTag.set&&$(n).val(i),t==actionsOnTag.get)return $(n).html();break;case"checkbox":if(t==actionsOnTag.clear&&$(n).attr("checked",!1),t==actionsOnTag.set&&(epu.isBoolean(i)?$(n).attr("checked",i):$(n).attr("checked",!1)),t==actionsOnTag.get)return $(n).is(":checked");break;case"radio":if(t==actionsOnTag.clear&&$(n).attr("checked",!1),t==actionsOnTag.set&&(epu.isBoolean(i)?$(n).attr("checked",i):$(n).attr("checked",!1)),t==actionsOnTag.get)return $(n).is(":checked")}break;case"b":t==actionsOnTag.clear&&$(n).html(""),t==actionsOnTag.set&&$(n).html(i);break;case"i":if(t==actionsOnTag.clear&&$(n).html(""),t==actionsOnTag.set&&$(n).html(i),t==actionsOnTag.get)return $(n).html();break;case"img":if(t==actionsOnTag.clear&&$(n).attr("src",""),t==actionsOnTag.set&&$(n).attr("src",i),t==actionsOnTag.get)return $(n).attr("src");break;case"li":if(t==actionsOnTag.clear&&$(n).html(""),t==actionsOnTag.set&&$(n).html(i),t==actionsOnTag.get)return $(n).html();break;case"select":if(t==actionsOnTag.clear&&$(n).val(null),t==actionsOnTag.set&&$(n).val(i),t==actionsOnTag.get)return $(n).val();break;case"strong":if(t==actionsOnTag.clear&&$(n).html(""),t==actionsOnTag.set&&$(n).html(i),t==actionsOnTag.get)return $(n).html();break;case"td":if(t==actionsOnTag.clear&&$(n).html(""),t==actionsOnTag.set&&$(n).html(i),t==actionsOnTag.get)return $(n).html();break;case"textarea":if(t==actionsOnTag.clear&&$(n).val(""),t==actionsOnTag.set&&$(n).val(i),t==actionsOnTag.get)return $(n).val()}}var e=function(){},u=[];datePattern={"default":"ddd mmm dd yyyy HH:MM:ss",mediumDate:"mmm dd, yyyy",longDate:"mmmm dd, yyyy",fullDate:"dddd, mmmm dd, yyyy",pmsDate:"dd mmm HH:MM",isoDate:"yyyy-mm-dd",itaDate:"dd/mm/yyyy",timeFull:"HH:MM:ss",timeSmall:"HH:MM",engDateFull:"mm/dd/yy HH:MM",itaDateFull:"dd/mm/yy HH:MM",engDateFullExt:"mm/dd/yyyy HH:MM:ss",itaDateFull:"dd/mm/yyyy HH:MM:ss"},consoleLogType={warning:"warn",info:"info",error:"error",normal:""},actionsOnTag={get:"get",clear:"clear",set:"set"},request_methods={post:"POST",get:"GET",del:"DELETE",put:"PUT"},rolloverTypes={immagine:"img",background:"bg",immagine_invertita:"img-reverse"},epu=e.prototype={init:function(){var n,i,r;typeof jQuery=="undefined"&&alert("jQuery not loaded!"),n="<style>.epuErrorClass { border:1px solid #ff4848;-webkit-box-shadow: 0px 0px 8px #ff4848;-moz-box-shadow: 0px 0px 8px #ff4848;box-shadow: 0px 0px 8px #ff4848;outline:none; } <\/style>",t.write(n),i="<style>.epuMenuOpener {background-color: #868686;width: 160px;padding: 6px;color: #000000;font-weight: bold;font-size:16px;cursor:pointer;}.epuMenuOpener:hover {background-color: #000000;color: #ffffff;}<\/style>",t.write(i),r="<style>.epuMenuContainer {background-color: #868686;}.epuMenuItem {width: 160px;color:#000000;font-size:16px;text-align:center;background-color:#868686;padding:6px;}.epuMenuItem:hover {color:#ffffff;background-color:#000000;cursor:pointer;}<\/style>",t.write(r)},about:function(){return{Version:"0.3",Author:"Enrico Piccini",Date:"29/05/13",Name:"eputils",ShortName:"epu"}},pageReady:function(n){$(t).ready(function(){epu.isFunction(n)&&n()})},httpReqJSON:function(n,t,i,r,u,f,e,o){var s=epu.fromJSON(u),h="json",c=!1,l=!0,a,v,y;f&&(r=!0,h="jsonp",c=!0,l=!1),a="(javascript:|javascript|<s*script.*?s*>|document.write|document.cookie|window.status|window.open|j_avascript|ja_vascript|jav_ascript|java_script|javas_cript|javascr_ipt|javascri_pt|javascrip_t|document.location)",v=s,strOptions="i",y=new RegExp(a,strOptions),y.test(v)?alert("Hack Blocked!"):$.ajax({type:n,url:t+"/"+i,data:s,contentType:"application/json; charset=utf-8",dataType:h,async:r,crossDomain:c,cache:l,success:function(n){epu.isFunction(e)&&e(n.d)},error:function(n){epu.isFunction(o)&&o(n)}})},loadScript:function(n,i){var r=t.createElement("script"),u,f;r.src=n,u=t.getElementsByTagName("head")[0],f=!1,r.onload=r.onreadystatechange=function(){f||this.readyState&&this.readyState!="loaded"&&this.readyState!="complete"||(f=!0,i(),r.onload=r.onreadystatechange=null,u.removeChild(r))},u.appendChild(r)},encodeUriSegment:function(n){return epu.encodeUriQuery(n,!0).replace(/%26/gi,"&").replace(/%3D/gi,"=").replace(/%2B/gi,"+")},encodeUriQuery:function(n,t){return encodeURIComponent(n).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(t?null:/%20/g,"+")},toJSON:function(n){return $.parseJSON(n)},fromJSON:function(n){return JSON.stringify(n)},htmlEncode:function(n){return $("<div/>").text(n).html()},htmlDecode:function(n){return $("<div/>").html(n).text()},toInt:function(n){return parseInt(n,10)},toFloat:function(n){return n=epu.strReplace(n,",","."),parseFloat(n)},randomString:function(n,t,i,r){var u="",s,f,e,o;for(t&&(u+="ABCDEFGHIJKLMNOPQRSTUVWXTZabcdefghiklmnopqrstuvwxyz"),i&&(u+="0123456789"),r&&(u+="?!$+-/.,<>@~^_"),s=epu.toInt(n),f="",e=0;e<s;e++)o=Math.floor(Math.random()*u.length),f+=u.substring(o,o+1);return f},imgStaticRollover:function(n,t,i,r){function e(n){var t=new RegExp("/([^/]+).(png|gif|jpg|bmp)$","i");return n.replace(t,"/$1-"+u.suffix+".$2")}function o(n){var t=new RegExp("/([^/]+)-"+u.suffix+".(png|gif|jpg|bmp)$","i");return n.replace(t,"/$1.$2")}var f,u;f=epu.isJQueryDOM(n)?n:$("img.ro"),u={type:epu.isVarEmpty(t)==!1?t:"img",suffix:epu.isVarEmpty(i)==!1?i:"r",waitLoading:epu.isBoolean(r)?r:!1};switch(u.type){case"img":f.on("mouseenter",function(){$this=$(this);var n=e(this.src),t=this;u.waitLoading&&!$this.data("loaded")?$("<img/>").attr("src",n).load(function(){$this.data("sel")!=1&&(t.src=n,$this.data("sel",1),$this.data("loaded",!0))}):$this.data("sel")!=1&&(t.src=n,$this.data("sel",1))}).on("mouseleave",function(){$this=$(this);var n=o(this.src),t=this;u.waitLoading&&!$this.data("loaded-ro")?$("<img/>").attr("src",n).load(function(){$this.data("sel")!=0&&(t.src=n,$this.data("sel",0),$this.data("loaded-ro",!0))}):$this.data("sel")!=0&&(t.src=n,$this.data("sel",0),$this.data("loaded-ro",!0))});break;case"bg":f.on("mouseenter",function(){$this=$(this);var n=$this.css("background-image");n=n.match(/^url\(('|")?(.*)\1\)$/),n=n?n[2]:"",n=e(n),u.waitLoading&&!$this.data("loaded")?$("<img/>").attr("src",n).load(function(){$this.css("background-image","url('"+n+"')"),$this.data("loaded",!0)}):($this.css("background-image","url('"+n+"')"),$this.data("loaded",!0))}).on("mouseleave",function(){$this=$(this);var n=$this.css("background-image");n=n.match(/^url\(('|")?(.*)\1\)$/),n=n?n[2]:"",n=o(n),u.waitLoading&&!$this.data("loaded-ro")?$("<img/>").attr("src",n).load(function(){$this.css("background-image","url('"+n+"')"),$this.data("loaded-ro",!0)}):($this.css("background-image","url('"+n+"')"),$this.data("loaded-ro",!0))});break;case"img-reverse":f.each(function(n,t){$this=$(t);var i=e(this.src),r=t;u.waitLoading&&!$this.data("loaded")?$("<img/>").attr("src",i).load(function(){$this.data("sel")!=1&&(r.src=i,$this.data("sel",1),$this.data("loaded",!0))}):$this.data("sel")!=1&&(r.src=i,$this.data("sel",1))}).on("mouseenter",function(){$this=$(this);var t=this,n=o(this.src);u.waitLoading&&!$this.data("loaded-ro")?$("<img/>").attr("src",n).load(function(){$this.data("sel")!=0&&(t.src=n,$this.data("sel",0),$this.data("loaded-ro",!0))}):$this.data("sel")!=0&&(t.src=n,$this.data("sel",0),$this.data("loaded-ro",!0))}).on("mouseleave",function(){$this=$(this);var t=this,n=e(this.src);u.waitLoading&&!$this.data("loaded")?$("<img/>").attr("src",n).load(function(){$this.data("sel")!=1&&(t.src=n,$this.data("sel",1),$this.data("loaded",!0))}):$this.data("sel")!=1&&(t.src=n,$this.data("sel",1))})}},imgInLang:function(n){$("img.lang").each(function(){this.src!=""&&(this.src=this.src.replace(/\/([^\/]+)\.(\w{3})$/i,"/$1-"+n+".$2"))})},consoleClear:function(){try{console.clear()}catch(t){}try{n.console.clear()}catch(i){}try{}catch(r){n.clear()}try{}catch(u){clear()}},consoleLog:function(n,t){if(typeof console!="undefined"){t=epu.isVarEmpty(t)?"":t;switch(t){case"":console.log(n);break;case"warn":console.warn(n);break;case"info":console.info(n);break;case"error":console.error(n)}}},parseXml:function(t){var i=null;if(n.DOMParser)try{i=(new DOMParser).parseFromString(t,"text/xml")}catch(r){i=null}else if(n.ActiveXObject)try{i=new ActiveXObject("Microsoft.XMLDOM"),i.async=!1,i.loadXML(t)||n.alert(i.parseError.reason+i.parseError.srcText)}catch(r){i=null}else alert("cannot parse xml string!");return i},xmlToJson:function(n){var t={},r,e,u,f,i,o;if(n.nodeType==1){if(n.attributes.length>0)for(t["@attributes"]={},r=0;r<n.attributes.length;r++)e=n.attributes.item(r),t["@attributes"][e.nodeName]=e.nodeValue}else n.nodeType==3&&(t=n.nodeValue);if(n.hasChildNodes())for(u=0;u<n.childNodes.length;u++)f=n.childNodes.item(u),i=f.nodeName,typeof t[i]=="undefined"?t[i]=epu.xmlToJson(f):(typeof t[i].length=="undefined"&&(o=t[i],t[i]=[],t[i].push(o)),t[i].push(epu.xmlToJson(f)));return t},scaleImageSize:function(n,t,i){if(epu.isJQueryDOM(n)){var r=n[0],u=t/i;r.height/r.width>u?r.height>t&&(r.width=Math.round(r.width*(t/r.height)),r.height=t):r.width>t&&(r.height=Math.round(r.height*(i/r.width)),r.width=i)}},windowSize:function(){return{width:$(n).width(),height:$(n).height()}},documentSize:function(){return{width:$(t).width(),height:$(t).height()}},initInputTextTips:function(){var n=$("input[type=text][placeholder]").each(function(n,t){var i=$(t);i.val(i.attr("placeholder")),$(i).focus(function(){i.val()==i.attr("placeholder")&&i.val("")}).blur(function(){i.val()==""&&i.val(i.attr("placeholder"))})})},setTextareaMaxLenght:function(n,t){epu.isJQueryDOM(n)&&epu.isNumber(t)&&n.keyup(function(){n.val().length>t&&n.val(epu.strSubstring(n.val(),0,t))})},CalcolaCodiceFiscale:function(n,t,r,u,f){function w(n){var t="";if(t=c(n),t.length>=3)t=t.substring(0,3);else if(t+=l(n).substring(0,3-t.length),t.length<3)for(i=t.length;i<3;i++)t+="X";return t}function b(n){var t="";if(cons=c(n),cons.length>3)t=cons.substring(0,1)+cons.substring(2,3)+cons.substring(3,4);else if(cons.length==3)t=cons;else if(t=cons+l(n).substring(0,3-cons.length),t.length<3)for(i=t.length;i<3;i++)t+="X";return t}function c(n){var t="";for(i=0;i<n.length;i++)"BCDFGHLMNPQRSTVZKWXYJ".indexOf(n.substring(i,i+1))!=-1&&(t+=n.substring(i,i+1));return t.toUpperCase()}function l(n){var t="";for(i=0;i<n.length;i++)consonanti.indexOf(n.substring(i,i+1))==-1&&n.substring(i,i+1)!=" "&&(t+=n.substring(i,i+1));return t.toUpperCase()}function k(n,t,i,r){t=="01"&&(t="A"),t=="02"&&(t="B"),t=="03"&&(t="C"),t=="04"&&(t="D"),t=="05"&&(t="E"),t=="06"&&(t="H"),t=="07"&&(t="L"),t=="08"&&(t="M"),t=="09"&&(t="P"),t=="10"&&(t="R"),t=="11"&&(t="S"),t=="12"&&(t="T");var u="";return u+=i.substring(2,4)+t,u+(r=="M"?n:parseInt(40,10)+parseInt(n,10))}function d(n){var t=0,u,f="ABCDEFGHIJKLMNOPQRSTUVWXYZ",r=[Array(0,1),Array(1,0),Array(2,5),Array(3,7),Array(4,9),Array(5,13),Array(6,15),Array(7,17),Array(8,19),Array(9,21),Array("A",1),Array("B",0),Array("C",5),Array("D",7),Array("E",9),Array("F",13),Array("G",15),Array("H",17),Array("I",19),Array("J",21),Array("K",2),Array("L",4),Array("M",18),Array("N",20),Array("O",11),Array("P",3),Array("Q",6),Array("R",8),Array("S",12),Array("T",14),Array("U",16),Array("V",10),Array("W",22),Array("X",25),Array("Y",24),Array("Z",23)];for(i=0;i<n.length;i+=2)for(j=0;j<r.length;j++)if(n.substring(i,i+1).toUpperCase()==r[j][0]){t+=parseInt(r[j][1],10);break}for(i=1;i<n.length;i+=2)t+=isNaN(n.substring(i,i+1))?parseInt(f.indexOf(n.substring(i,i+1)),10):parseInt(n.substring(i,i+1),10);return u=t%26,f.charAt(u)}var o=n.toUpperCase(),s=t.toUpperCase(),a=r.substr(0,2),v=r.substr(3,2),y=r.substr(6),p=u.toUpperCase(),h=f.toUpperCase(),e;if(o!=""&&s!=""&&h!="")return ComuneCalcolato=h,rc=w(o),rn=b(s),rN=k(a,v,y,p),e=rc+rn+rN+ComuneCalcolato,e+=d(rc+rn+rN+ComuneCalcolato),ComuneCalcolato!=-1?e:"Comune non presente"},getPeopleAge:function(n){var t=new Date,i=new Date(n),r=t.getFullYear()-i.getFullYear(),u=t.getMonth()-i.getMonth();return(u<0||u===0&&t.getDate()<i.getDate())&&r--,r},getQueryString:function(t){var r=!1;for(hu=n.location.search.substring(1),gy=hu.split("&"),i=0;i<gy.length;i++)if(ft=gy[i].split("="),ft[0]==t)return r=!0,ft[1];return!1},arrContains:function(n,t){return jQuery.inArray(t,n)==-1?!1:!0},clickPressedOnOff:function(n,t,i){epu.isJQueryDOM(n)&&n.click(function(){var r="";$(this).hasClass(t)?($(this).removeClass(t),r="off"):(n.addClass(t),r="on"),epu.isFunction(i)&&i(r)})},getObjectValueByPath:function(n,t){for((t[0]=="\\"||t[0]=="/")&&(t=epu.strSubstring(t,1,t.length)),t=t.split(/[\[\]\.]+/),t[t.length-1]==""&&t.pop();t.length&&(n=n[t.shift()]););return n},setObjectValueByPath:function(n,t,i){var r,f,u;for((t[0]=="\\"||t[0]=="/")&&(t=epu.strSubstring(t,1,t.length)),r=t.replace(/\[|\]/g,".").replace(/\.+/g,".").split(/\./),pathEnd=r[r.length-1],pathRoot=r.slice(0,r.length-1).join("."),f=n,u=0;u<r.length;u++)typeof f[r[u]]=="undefined"&&(f[r[u]]={}),f=f[r[u]];epu.getObjectValueByPath(n,pathRoot)[pathEnd]=i},listboxAddNew:function(n,t,i,r,u,f){if(epu.isJQueryDOM(n)){if(epu.isVarEmpty(t)||epu.isVarEmpty(i)||!epu.isObject(r))return!1;epu.httpReqJSON("POST",t,i,!0,r,!1,function(t){if(epu.isString(t)&&(t=epu.toJSON(t)),epu.isVarEmpty(t))return!1;n.html("<option value=''><\/option>");for(var i=0;i<t.length;i++)n.append("<option value='"+t[i].id+"'>"+t[i].name+"<\/option>");if(epu.isVarEmpty(u)||n.val(u),epu.isFunction(f)){try{n.unbind("change")}catch(r){}n.bind("change",function(){f(n)})}return!0})}else return!1},menuBuilder:function(n,t,i,r,u){var o,h,f,s,e;if(epu.isJQueryDOM(n)&&epu.isJQueryDOM(t)){if(o=n,o.css("position","relative"),h=t,h.hide(),epu.isVarEmpty(i)?o.addClass("epuMenuOpener"):o.addClass(i),f=$("<div id='divcm_"+o.attr("id")+"'><\/div>"),f.css("height","auto"),f.css("width",o.width()),f.css("position","absolute"),f.hide(),f.css("z-index","999"),epu.isVarEmpty(r)?f.addClass("epuMenuContainer"):f.addClass(r),h.is("select"))for(s=h.find("option"),e=0;e<s.length;e++)epu.isVarEmpty(u)?f.append("<div class='epuMenuItem'>"+$(s[e]).html()+"<\/div>"):f.append("<div class='"+u+"'>"+$(s[e]).html()+"<\/div>");else if(h.is("ul"))for(s=h.find("li"),e=0;e<s.length;e++)epu.isVarEmpty(u)?f.append("<div class='epuMenuItem'>"+$(s[e]).html()+"<\/div>"):f.append("<div class='"+u+"'>"+$(s[e]).html()+"<\/div>");h.replaceWith(f),o.hover(function(){var n=$("#divcm_"+$(this).attr("id"));n.offset({my:"bottom",at:"center",of:o,collision:"fit"}),n.fadeIn(300)}),f.mouseenter(function(){$(this).addClass("hovered")}),f.children().mouseenter(function(){$(this).parent().addClass("hovered")}),f.mouseleave(function(){$(this).fadeOut(300),$(this).removeClass("hovered")}),o.mouseleave(function(){var n="(function () { var dc = $('#divcm_"+$(this).attr("id")+"'); if (!dc.hasClass('hovered')) { dc.fadeOut('300');dc.removeClass('hovered');}})();";setTimeout(n,350)})}},cookieWrite:function(n,i,r){var u=new Date,f=new Date;u.setTime(f.getTime()+parseInt(r)*6e4),t.cookie=n+"="+escape(i)+"; expires="+u.toGMTString()+"; path=/"},cookieRead:function(n){var i,r;return t.cookie.length>0?(i=t.cookie.indexOf(n+"="),i!=-1?(i=i+n.length+1,r=t.cookie.indexOf(";",i),r==-1&&(r=t.cookie.length),unescape(t.cookie.substring(i,r))):""):""},cookieDelete:function(n){epu.cookieWrite(n,"",-1)},browserDetection:function(){var t={},n=epu.strToLowercase(navigator.userAgent);return t.version=(n.match(/.+(?:rv|it|ra|ie|me)[\/: ]([\d.]+)/)||[])[1],t.browser=/chrome/.test(n)?"chrome":/webkit/.test(n)&&!/chrome/.test(n)?"safari":/opera/.test(n)?"opera":/msie/.test(n)&&!/opera/.test(n)?"msie":/mozilla/.test(n)&&!/(compatible|webkit)/.test(n)?"firefox":"undefined",t},browserLang:function(){return navigator.language?navigator.language:navigator.userLanguage},browserCookieSuppport:function(){t.cookie="check_cookie_tmp";return t.cookie.indexOf("check_cookie_tmp")!=-1?!0:!1},browserHTML5support:function(){var i={},u,e,r,f,o;i.audio=!!t.createElement("audio").canPlayType,u=t.createElement("audio"),i.audio_mp3=!!(u.canPlayType&&u.canPlayType("audio/mpeg;").replace(/no/,"")),u=t.createElement("audio"),i.audio_Vorbis=!!(u.canPlayType&&u.canPlayType('audio/ogg; codecs="vorbis"').replace(/no/,"")),u=t.createElement("audio"),i.audio_wav=!!(u.canPlayType&&u.canPlayType('audio/wav; codecs="1"').replace(/no/,"")),u=t.createElement("audio"),i.audio_aac=!!(u.canPlayType&&u.canPlayType('audio/mp4; codecs="mp4a.40.2"').replace(/no/,"")),i.canvas=!!t.createElement("canvas").getContext,e=t.createElement("canvas"),i.canvas_2d=e.getContext&&typeof e.getContext("2d").fillText=="function",i.command="type"in t.createElement("command"),i.datalist="options"in t.createElement("datalist"),i.details="open"in t.createElement("details"),i.form_validation="noValidate"in t.createElement("form"),i.iframe_sandbox="sandbox"in t.createElement("iframe"),i.iframe_srcdoc="srcdoc"in t.createElement("iframe"),i.input_autofocus="autofocus"in t.createElement("input"),i.input_placeholder="placeholder"in t.createElement("input"),i.textarea_placeholder="placeholder"in t.createElement("textarea"),r=t.createElement("input"),r.setAttribute("type","color"),i.input_color=r.type!=="text",r=t.createElement("input"),r.setAttribute("type","email"),i.input_email=r.type!=="text",r=t.createElement("input"),r.setAttribute("type","number"),i.input_number=r.type!=="text",r=t.createElement("input"),r.setAttribute("type","range"),i.input_range=r.type!=="text",r=t.createElement("input"),r.setAttribute("type","search"),i.input_search=r.type!=="text",r=t.createElement("input"),r.setAttribute("type","tel"),i.input_tel=r.type!=="text",r=t.createElement("input"),r.setAttribute("type","url"),i.input_url=r.type!=="text",r=t.createElement("input"),r.setAttribute("type","date"),i.input_date=r.type!=="text",r=t.createElement("input"),r.setAttribute("type","time"),i.input_time=r.type!=="text",r=t.createElement("input"),r.setAttribute("type","datetime"),i.input_datetime=r.type!=="text",r=t.createElement("input"),r.setAttribute("type","datetime-local"),i.input_datetimeLocal=r.type!=="text",r=t.createElement("input"),r.setAttribute("type","month"),i.input_month=r.type!=="text",r=t.createElement("input"),r.setAttribute("type","week"),i.input_week=r.type!=="text",i.meter="value"in t.createElement("meter"),i.output="value"in t.createElement("output"),i.progress="value"in t.createElement("progress"),i.time="datetime"in t.createElement("time"),i.video=!!t.createElement("video").canPlayType,i.video_caption="src"in t.createElement("track"),i.video_poster="poster"in t.createElement("video"),f=t.createElement("video"),i.video_webm=!!(f.canPlayType&&f.canPlayType('video/webm; codecs="vp8, vorbis"').replace(/no/,"")),f=t.createElement("video"),i.video_h264=!!(f.canPlayType&&f.canPlayType('video/mp4; codecs="avc1.42E01E, mp4a.40.2"').replace(/no/,"")),f=t.createElement("video"),i.video_theora=!!(f.canPlayType&&f.canPlayType('video/ogg; codecs="theora"').replace(/no/,"")),i.contentEditable="isContentEditable"in t.createElement("span"),i.crossDocument=!!n.postMessage,i.dragNDrop="draggable"in t.createElement("span"),i.fileAPI=typeof FileReader!="undefined",i.geolocation=!!navigator.geolocation,i.history=!!(n.history&&n.history.pushState);try{i.localStorage="localStorage"in n&&n.localStorage!==null}catch(o){i.localStorage=!1}i.microdata=!!t.getItems,i.offlineApp=!!n.applicationCache,i.serverSentEvt=typeof EventSource!="undefined";try{i.sessionStorage="sessionStorage"in n&&n.sessionStorage!==null}catch(o){i.sessionStorage=!1}return i.svg=!!(t.createElementNS&&t.createElementNS("http://www.w3.org/2000/svg","svg").createSVGRect),o=t.createElement("div"),o.innerHTML="<svg><\/svg>",i.svgTag=!!(n.SVGSVGElement&&o.firstChild instanceof n.SVGSVGElement),i.undo=typeof UndoManager!="undefined",i.indexedDB=!!n.indexedDB,i.webSocket=!!n.WebSocket,i.webSqlDB=!!n.openDatabase,i.webWorkers=!!n.Worker,i.widget=typeof widget!="undefined",i.CrossDomainReq="withCredentials"in new XMLHttpRequest,i.sendFormData=!!n.FormData,i.uploadProgress="upload"in new XMLHttpRequest,i},responsiveSameChildsHeight:function(n,t){if(epu.isJQueryDOM(n)){var i="";n.attr("id")!=""?i=n.attr("id"):(n.setAttribute("id",epu.randomString()),i=n.attr("id")),r(i,t);function r(n,t){var u=$("#"+n+" > "+t),i=0;u.each(function(){$(this).height()>i&&(i=$(this).height())}),u.each(function(){epu.browserDetection().browser=="msie"&&epu.browserDetection().version=="6.0"&&$(this).children().css({height:i}),$(this).css({"min-height":i})}),setTimeout(function(){r(n,t)},800)}}},responsiveChildDivsWidth:function(t,i,r){if(epu.isJQueryDOM(t)){i=i[0]=="."?epu.strSubstring(i,1,i.length):i,$(n).resize(function(){u(t,i,r)}),u(t,i,r);function u(n,i,r){var o=t.width(),f=0;epu.isNumber(r)?(f=r,$("."+i.toString()).each(function(){$(this).css("min-width",f)})):f=$($("."+i.toString())[0]).css("min-width");var e=$("."+i.toString()).length,u=$($("."+i.toString())[0]),s=epu.toInt(u.css("marginLeft"))+epu.toInt(u.css("marginRight")),h=epu.toInt(u.css("paddingLeft"))+epu.toInt(u.css("paddingRight")),c=epu.toInt(u.css("borderLeft"))+epu.toInt(u.css("borderRight")),a=epu.toInt(f)+s+h+c,l=epu.toInt(o/a),y=o-a*l,v;v=e==1||e==2?(o-(s+h+c)*2)/2:l>e?(o-(s+h+c)*e)/e:epu.toInt(f)+y/l,$("."+i).each(function(){$(this).width(epu.toFloat(v)+"px")})}}},responsiveVAlignOnWindow:function(i,r,u){if(epu.isJQueryDOM(i)){$(n).resize(function(){f(i,r,u)}),$(t).scroll(function(){f(i,r,u)}),f(i,r,u);function f(t,i,r){var f=n.innerHeight,e=f/2,o=epu.scrollPxAmountPage(),s=epu.toInt(t.height())/2,h=e+o-s,u;t.css("position","absolute"),t.css("top",h+"px"),i?t.css("right","0px"):r?t.css("left","0px"):(t.css("left","50%"),u=t.outerWidth(!0)/2,t.css("margin-left","-"+u+"px"))}}},responsiveFooterPosition:function(i){epu.isJQueryDOM(i)&&$(n).bind("load",function(){function f(){r=u.height(),e=$(n).scrollTop()+$(n).height()-r+"px",$(t.body).height()+r<$(n).height()?u.css({position:"absolute"}).animate({top:e}):u.css({position:"static"})}var r=0,e=0,u=i;f(),$(n).scroll(f).resize(f)})},scrollPxAmountPage:function(){return $(n).scrollTop()},scrollPercentAmountPage:function(){return epu.scrollPxAmountPage()/(epu.documentSize().height-epu.windowSize().height)*100},scrollPxAmountElem:function(n){if(epu.isJQueryDOM(n))return n.scrollTop()},scrollPercentAmountElem:function(n){if(epu.isJQueryDOM(n))return epu.scrollPxAmountElem(n)/n.get(0).scrollHeight*100},infiniteScrollElem:function(n,t,i){epu.isJQueryDOM(n)&&n.scroll(function(){if(epu.isNumber(t)&&epu.isFunction(i)){var r=epu.scrollPercentAmountElem(n);r>=t&&i()}})},infiniteScrollPage:function(n,i){$(t).scroll(function(){if(epu.isNumber(n)&&epu.isFunction(i)){var t=epu.scrollPercentAmountPage();t>=n&&i()}})},isVarEmpty:function(n){if(n==r||n==null||n==""&&n!=0)return!0;try{if(n.length==0)return!0}catch(t){}return!1},isObject:function(n){return n!=null&&typeof n=="object"},isString:function(n){return typeof n=="string"},isNumber:function(n){return typeof n=="number"},isDate:function(n){return n instanceof Date},isArray:function(n){return n instanceof Array},isFunction:function(n){return typeof n=="function"},isBoolean:function(n){return typeof n=="boolean"},isMobile:function(){return/iphone|ipad|ipod|android|blackberry|mini|windows\sce|palm/i.test(epu.strToLowercase(navigator.userAgent))},is_touch_device:function(){return!!("ontouchstart"in n)},isBrowserMinimized:function(){var n,i;return typeof t.hidden!="undefined"?(n="hidden",i="visibilitychange"):typeof t.mozHidden!="undefined"?(n="mozHidden",i="mozvisibilitychange"):typeof t.msHidden!="undefined"?(n="msHidden",i="msvisibilitychange"):typeof t.webkitHidden!="undefined"&&(n="webkitHidden",i="webkitvisibilitychange"),t[n]?!0:!1},isEmailValid:function(n){return/^((?:(?:(?:\w[\.\-\+]?)*)\w)+)\@((?:(?:(?:\w[\.\-\+]?){0,62})\w)+)\.(\w{2,6})$/.test(n)},isJQueryDOM:function(n){return n&&n.hasOwnProperty&&n instanceof jQuery},strToLowercase:function(n){return epu.isString(n)?n.toLowerCase():n},strToUppercase:function(n){return epu.isString(n)?n.toUpperCase():n},strTrim:function(n){return epu.isString(n)?n.replace(/\s+/g,""):n},strEndsWith:function(n,t){var i=new RegExp(t+"$");return i.test(n)},strStartsWith:function(n,t){var i=new RegExp("^"+t);return i.test(n)},strContains:function(n,t){return n.toString().indexOf(t)!==-1},strSubstring:function(n,t,i){return epu.isString(n)?n.substring(t,i):n},strReplace:function(n,t,i){return epu.isString(n)?n.replace(t,i):n},strReplaceAll:function(n,t,i){return epu.isString(n)?n.replace(new RegExp(t,"g"),i):n},dateDiff:function(n,t){if(n=epu.dateParse(n,!1,null),t=epu.dateParse(t,!1,null),epu.isDate(n)&&epu.isDate(t))return Math.round((t.getTime()-n.getTime())/864e5);return null},dateWeekNumber:function(n){var t;if(n=epu.dateParse(n,!1,null),epu.isDate(n)){n.setFullYear(n.getFullYear(),n.getMonth(),n.getDate()),t=n.getDay(),t==0&&(t=7),n.setDate(n.getDate()+(4-t));var i=n.getFullYear(),r=Math.floor((n.getTime()-new Date(i,0,1,-6))/864e5);return 1+Math.floor(r/7)}return null},dateGetSpecWeekDayByDate:function(n,t){var r,i,u,f;r=epu.dateParse(n,!1,null);switch(epu.strToLowercase(t)){case"domenica":i=0;break;case"lunedì":i=1;break;case"martedì":i=2;break;case"mercoledì":i=3;break;case"giovedì":i=4;break;case"venerdì":i=5;break;case"sabato":i=6;break;default:return null}return u=r.getDay(),f=r.getDate()-u+(u==0?-6:i),new Date(r.setDate(f))},dateFormat:function(n,t,i){var r=["January","February","March","April","May","June","July","August","September","October","November","December"],u=["Gennaio","Febbraio","Marzo","Aprile","Maggio","Giugno","Luglio","Agosto","Settembre","Ottobre","Novembre","Dicembre"],f=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],e=["Domenica","Lunedì","Martedì","Mercoledì","Giovedì","Venerdì","Sabato"];return n=epu.dateParse(n,!1,null),epu.isDate(n)?t.replace(/(yyyy|yy|mmmm|mmm|mm|dddd|ddd|dd|HH|MM|ss|a\/p)/gi,function(t){switch(t){case"yyyy":return n.getFullYear();case"yy":return n.getFullYear().toString().substring(2,4);case"mmmm":return i=="it"?u[n.getMonth()]:r[n.getMonth()];case"mmm":return i=="it"?u[n.getMonth()].substr(0,3):r[n.getMonth()].substr(0,3);case"mm":return(n.getMonth()+1).toString().length<2?"0"+(n.getMonth()+1).toString():(n.getMonth()+1).toString();case"dddd":return i=="it"?e[n.getDay()]:f[n.getDay()];case"ddd":return i=="it"?e[n.getDay()].substr(0,3):f[n.getDay()].substr(0,3);case"dd":return n.getDate().toString().length<2?"0"+n.getDate().toString():n.getDate().toString();case"a/p":return n.getHours()<12?"a":"p";case"HH":return(h=n.getHours()%12)?h:12;case"MM":return n.getMinutes().toString().length<2?"0"+n.getMinutes().toString():n.getMinutes().toString();case"ss":return n.getSeconds().toString().length<2?"0"+n.getSeconds().toString():n.getSeconds().toString()}}):null},dateParse:function(n,t,i){var r,f,u;return epu.isNumber(n)?(r=new Date(n),t&&(r=new Date(r.valueOf()+r.getTimezoneOffset()*6e4)),epu.isDate(r)?r:null):epu.isString(n)?epu.strContains(n,"(")?(f=n.replace(/\/Date\((-?\d+)\)\//,"$1"),r=new Date(parseInt(f)),t&&(r=new Date(r.valueOf()+r.getTimezoneOffset()*6e4)),epu.isDate(r)?r:null):(i=="it"&&(u=n.split("/"),n=u[1]+"/"+u[0]+"/"+u[2]),r=new Date(n),t&&(r=new Date(r.valueOf()+r.getTimezoneOffset()*6e4)),epu.isDate(r)?r:null):epu.isDate(n)?(t&&(n=new Date(n.valueOf()+n.getTimezoneOffset()*6e4)),n):null},modalView:function(n,t,i,r,u,f,e,o,s){if(typeof jQuery.ui=="undefined")return alert("jQuery UI not loaded!"),null;epu.isJQueryDOM(n)&&n.dialog({height:i,width:t,modal:r,show:"fade",hide:"fade",title:u,resizable:epu.isBoolean(f)?f:!1,draggable:epu.isBoolean(e)?e:!1,open:function(){epu.isFunction(o)&&o()},beforeClose:function(){epu.isFunction(s)&&s()}})},modalClose:function(n){if(typeof jQuery.ui=="undefined")return alert("jQuery UI not loaded!"),null;epu.isJQueryDOM(n)&&n.dialog("close")},modalInfo:function(n){if(typeof jQuery.ui=="undefined")return alert("jQuery UI not loaded!"),null;var t=$("<div id='modaleInfoEPU' style='display: none;'><div id='infoTextEPU' style='font-family:Trebuchet MS; font-size: 12px; color: #44443c;'><\/div><div align='center' style='margin-top: 30px;'><input type='button' value='OK' onclick='epu.modalClose($(\"#modaleInfoEPU\"));$(\"#modaleInfoEPU\").remove();' style='border: 1px solid #777777; background: #44443c; color: white; font: bold 12px \"Trebuchet MS\"; padding: 4px 16px 4px 16px; cursor: pointer; -moz-border-radius: 4px; -webkit-border-radius: 4px; border-radius: 4px;outline:none;' /><\/div><\/div>");t.find("#infoTextEPU").html(n),t.dialog({minHeight:135,width:350,modal:!0,show:"fade",hide:"fade",title:"INFO",resizable:!1,draggable:!1,open:function(){$(this).parent().children().children(".ui-dialog-titlebar-close").hide()}})},modalWarning:function(n,t,i){var r;if(typeof jQuery.ui=="undefined")return alert("jQuery UI not loaded!"),null;r=null,epu.isVarEmpty($("#modaleWarnEPU"))&&$("body").append("<div id='modaleWarnEPU' style='display: none;'><div id='warnTextEPU' style='font-family:Trebuchet MS; font-size: 12px; color: #44443c;'><\/div><div align='center' style='margin-top: 30px;'><input id='btnWarnNoEPU' type='button' value='No' style='border: 1px solid #777777; background: #44443c; color: white; font: bold 12px \"Trebuchet MS\"; padding: 4px 16px 4px 16px; cursor: pointer; -moz-border-radius: 4px; -webkit-border-radius: 4px; border-radius: 4px;outline:none;margin-right:12px;' /><input id='btnWarnYesEPU' type='button' value='Yes' style='border: 1px solid #777777; background: #44443c; color: white; font: bold 12px \"Trebuchet MS\"; padding: 4px 16px 4px 16px; cursor: pointer; -moz-border-radius: 4px; -webkit-border-radius: 4px; border-radius: 4px;outline:none;' /><\/div><\/div>"),r=$("#modaleWarnEPU"),r.find("#warnTextEPU").html(n),r.dialog({minHeight:135,width:350,modal:!0,show:"fade",hide:"fade",title:"WARNING",resizable:!1,draggable:!1,open:function(){$(this).parent().children().children(".ui-dialog-titlebar-close").hide()}}),$("#btnWarnNoEPU").unbind(),$("#btnWarnNoEPU").click(function(){epu.isFunction(i)&&i(),$("#modaleWarnEPU").dialog("close")}),$("#btnWarnYesEPU").unbind(),$("#btnWarnYesEPU").click(function(){epu.isFunction(t)&&t(),$("#modaleWarnEPU").dialog("close")})},templateAdd:function(n,t,i){if(epu.isFunction($.template[n]))return!1;if(epu.isVarEmpty(t)){if(epu.isVarEmpty(i))return!1;$.get(i,function(t){return $.template(n,t),!0})}else return $.template(n,t),!0},templateGet:function(n,t,i){var r=$.tmpl(n,t).attr("epu_tmpl",n);return epu.isBoolean(i)&&i?$("<div />").append(r).html():r},templateDel:function(n){try{return delete $.template[n],!0}catch(t){return!1}},scopeInit:function(n,t,i,r,f){var o=!1,e;if($.each(u,function(n,t){t.name==name&&(o=!0)}),o)return!1;if(e={name:"",data:"",updateAll:"",updateSingle:"",saveOrMod:"",delElem:""},epu.isString(n))e.name=n;else return!1;if(e.data=null,epu.isFunction(t))e.updateAll=t;else return!1;if(epu.isFunction(i))e.updateSingle=i;else return!1;if(epu.isFunction(r))e.saveOrMod=r;else return!1;if(epu.isFunction(f))e.delElem=f;else return!1;return u.push(e),!0},scopeGet:function(n){for(var t=0;t<u.length;t++)if(u[t].name==n)return u[t];return null},scopeDelData:function(n){for(var t=0;t<u.length;t++)if(u[t].name==n)return u[t].data=null,!0;return!1},scopeVarInject:function(n,t,i){epu.setObjectValueByPath(epu.scopeGet(n).data,t,i)},databinding:{form:{clear_ui_fields:function(n){for(var i=epu.databinding.getUIChilds(n),t=0;t<i.length;t++)f(i[t],actionsOnTag.clear,null)},set_ui_fields:function(n,t,i){var o=epu.databinding.getUIChilds(n),e,s,u;for(epu.isArray(t)&&!epu.isVarEmpty(t)&&(t=t[0]),e=0;e<o.length;e++)s=$(o[e]).attr("epu_data"),u=epu.getObjectValueByPath(t,s),u!=r?epu.strContains(u,"/Date(")&&(u=epu.dateFormat(u,datePattern.itaDate,i)):u="",f(o[e],actionsOnTag.set,u)},get_ui_fields:function(n,t){var u,i,r,e,o;try{for(u=epu.databinding.getUIChilds(n).filter("input,select,textarea"),i={},r=0;r<u.length;r++)e=f(u[r],actionsOnTag.get,null),o=$(u[r]).attr("epu_data"),epu.setObjectValueByPath(i,o,e);return epu.scopeGet(t).data=i,{id:i.id==""?null:i.id,success:!0}}catch(s){return{id:null,success:!1}}}},list:{clear_ui:function(n){epu.databinding.getUI(n).html("")},updater_ui:function(n,t,i){var u=epu.databinding.getUI(n),r;for(u.html(""),r=0;r<i.length;r++)epu.templateGet(t,i[r],!1).appendTo(u)}},getUIList:function(){return $("[epu_ui]")},getUI:function(n){return $("[epu_ui="+n+"]")},getUIChilds:function(n){var t=epu.databinding.getUI(n);return t.find("[epu_data]")},getUIItemDOM:function(n,t){if(!epu.isVarEmpty(n)&&!epu.isVarEmpty(t)){var i=epu.databinding.getUI(n);return i.find("[epu_data='"+t+"']")}}},validateForm:function(n,t){var f,e,s,c,u,h,l,a,v,y,p,w,b,k,d,g,i,o,r;for(f=epu.isJQueryDOM(n)?elemJqueryDOM.children().filter("input[type='text'],input[type='password'],input[type='hidden'],textarea"):epu.isString(n)?epu.databinding.getUIChilds(n).filter("input[type='text'],input[type='password'],input[type='hidden'],textarea"):[],e=epu.isJQueryDOM(n)?elemJqueryDOM.children().filter("select"):epu.isString(n)?epu.databinding.getUIChilds(n).filter("select"):[],s=!1,i=0;i<f.length;i++)if(epu.isVarEmpty(t)?$(f[i]).removeClass("epuErrorClass"):$(f[i]).removeClass(t),o=$(f[i]).attr("epu_validate"),r=$(f[i]).val(),!epu.isVarEmpty(o)){for(c=o.split(" "),u=!1,h=0;h<c.length;h++)switch(c[h]){case"email":l=/^((?:(?:(?:\w[\.\-\+]?)*)\w)+)\@((?:(?:(?:\w[\.\-\+]?){0,62})\w)+)\.(\w{2,6})$/,l.test(r)||(u=!0);break;case"required":a=/^\s*$/,a.test(r)&&(u=!0);break;case"credit_card":v=/(^(4|5)\d{3}-?\d{4}-?\d{4}-?\d{4}|(4|5)\d{15})|(^(6011)-?\d{4}-?\d{4}-?\d{4}|(6011)-?\d{12})|(^((3\d{3}))-\d{6}-\d{5}|^((3\d{14})))/,v.test(r)||(u=!0);break;case"number":y=/^[+]?\d+([,]\d+)?$/,y.test(r)||(u=!0);break;case"password":p=/^[A-Za-z0-9!@#$%^&*()_]{6,16}$/,p.test(r)||(u=!0);break;case"username":w=/^[a-z0-9_-]{3,16}$/,w.test(r)||(u=!0);break;case"url":b=/^(https?:\/\/)?([\da-z\.-]+)\.([a-z\.]{2,6})([\/\w \.-]*)*\/?$/,b.test(r)||(u=!0);break;case"fake_text":k=/(.)\1{2,}/,k.test(r)||(u=!0);break;case"hex":d=/^#?([a-f0-9]{6}|[a-f0-9]{3})$/,d.test(r)||(u=!0);break;case"ip":g=/^(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)$/,g.test(r)||(u=!0)}u&&(epu.isVarEmpty(t)?$(f[i]).addClass("epuErrorClass"):$(f[i]).addClass(t),s=!0)}for(i=0;i<e.length;i++)epu.isVarEmpty(t)?$(e[i]).removeClass("epuErrorClass"):$(e[i]).removeClass(t),o=$(e[i]).attr("epu_validate"),r=$(e[i]).val(),epu.isVarEmpty(o)||o!="required"||epu.isVarEmpty(r)&&(epu.isVarEmpty(t)?$(e[i]).addClass("epuErrorClass"):$(e[i]).addClass(t),s=!0);return s}},epu.init()}(window,document);